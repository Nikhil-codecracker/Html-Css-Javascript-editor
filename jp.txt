<html>
    <head>
        <script  type="text/javascript" src="jquery.min.js"></script>
        <script src="jquery-ui/jquery-ui/jquery-ui.js"></script>
        <script src="jquery-ui/jquery-ui/jquery-ui.css"></script>
        <link rel="stylesheet" type="text/css" href="jqueryp.css">
    </head>
    <body>
        <div id="menu">
            <div id="n"><b>CodePlayer</b></div>
            <button class="m" id="h">HTML</button>
            <button class="m" id="c">CSS</button>
            <button class="m" id="j">Javascript</button>
            <button class="m" id="o">Output</button>
        </div>
            <textarea rows="47" cols="103" id="hl" autofocus><p id="a">My name is Nikhil</p></textarea>
            <textarea rows="47" cols="103" id="cs">p{color:red;}</textarea>   
            <textarea rows="47" cols="103" id="js">document.getElementById("a").innerhtml="Hello Nikhil";</textarea>
            <iframe id="op"></iframe>
        <script type="text/javascript">
            var c=0;
            function checkw(){
                if($("#hl").css("display")!="none")
                {c++;}
                if($("#cs").css("display")!="none")
                {c++;}
                if($("#js").css("display")!="none")
                {c++;}
                if($("#op").css("display")!="none")
                {c++;}
                if(c!=0)
                {
                var d=1535/c-5*(5-c);
                $("textarea").css("width",d+"px");
                $("iframe").css("width",d+"px");
                }
                c=0;
            }
            $("#h").click(function(){
                if($("#hl").css("display")=="none")
                {
                    $("#hl").css("display","block");
                    $("#h").css("background-color","rgb(235, 243, 255)");
                }
                else{
                    $("#hl").css("display", "none");
                    $("#h").css("background-color", "#ededed");
                }
                checkw();
                $("#hl").focus();
            });
            $("#c").click(function(){
                if($("#cs").css("display")=="none")
                {
                    $("#cs").css("display","block");
                    $("#c").css("background-color","rgb(235, 243, 255)");
                }
                else{
                    $("#cs").css("display", "none");
                    $("#c").css("background-color", "#ededed");
                }
                checkw();
                $("#cs").focus();
            });
            $("#j").click(function(){
                if($("#js").css("display")=="none")
                {
                    $("#js").css("display","block");
                    $("#j").css("background-color","rgb(235, 243, 255)");
                }
                else{
                    $("#js").css("display", "none");
                    $("#j").css("background-color", "#ededed");
                }
                checkw();
                $("#js").focus();
            });
            $("#o").click(function(){
                if($("#op").css("display")=="none")
                {
                    $("#op").css("display","block");
                    $("#o").css("background-color","rgb(235, 243, 255)");
                }
                else{
                    $("#op").css("display", "none");
                    $("#o").css("background-color", "#ededed");
                }
                checkw();
                $("#op").focus();
            });
            $("iframe").contents().find("html").html("<html><head><style type='text/css'>"+$("#cs").val()+"</style></head><body>"+$("#hl").val()+"</body></html>");
            document.getElementById("op").contentWindow.eval($("js").val());
            $("textarea").on("change keyup paste", function(){
                $("iframe").contents().find("html").html("<html><head><style type='text/css'>"+$("#cs").val()+"</style></head><body>"+$("#hl").val()+"</style></body></html>");
                document.getElementById("op").contentWindow.eval($("#js").val());
            });
        </script>
    </body>
</html>